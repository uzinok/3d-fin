RewriteEngine On

# Правило для API - перенаправляем на PHP скрипты
RewriteCond %{REQUEST_URI} ^/api/([a-zA-Z0-9_-]+)$ [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^api/([a-zA-Z0-9_-]+)$ api/$1.php [L]

# Исключаем существующие файлы (включая PHP) из перенаправления на React
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule . - [L]

# Для React Router - все остальные запросы на index.html
RewriteRule . /index.html [L]
